import{_ as n,I as e,c as t,o as a,a3 as s,J as l}from"./chunks/framework.Coydrlbh.js";const A=JSON.parse('{"title":"模型配置常见问题 (FAQ)","description":"","frontmatter":{},"headers":[],"relativePath":"docs/guides/model_config_faq.md","filePath":"docs/guides/model_config_faq.md","lastUpdated":1757683291000}'),d={name:"docs/guides/model_config_faq.md"};function c(g,o,p,u,h,P){const i=e("NolebaseGitContributors"),r=e("NolebaseGitChangelog");return a(),t("div",null,[o[0]||(o[0]=s('<h1 id="模型配置常见问题-faq" tabindex="-1">模型配置常见问题 (FAQ) <a class="header-anchor" href="#模型配置常见问题-faq" aria-label="Permalink to “模型配置常见问题 (FAQ)”">​</a></h1><p>本文档旨在帮助用户解决在配置和使用语言模型时遇到的常见问题。</p><h2 id="http-状态码相关问题" tabindex="-1">HTTP 状态码相关问题 <a class="header-anchor" href="#http-状态码相关问题" aria-label="Permalink to “HTTP 状态码相关问题”">​</a></h2><p>当与模型API交互时，您可能会遇到各种HTTP状态码。以下是常见状态码的解释和解决方法。</p><h3 id="q-请求失败并返回-401-unauthorized-状态码是什么原因" tabindex="-1">Q: 请求失败并返回 <code>401 Unauthorized</code> 状态码是什么原因？ <a class="header-anchor" href="#q-请求失败并返回-401-unauthorized-状态码是什么原因" aria-label="Permalink to “Q: 请求失败并返回 401 Unauthorized 状态码是什么原因？”">​</a></h3><p><strong>A:</strong> 这是最常见的错误之一，表示 <strong>API密钥（API Key）无效或缺失</strong>。</p><ul><li><p><strong>原因</strong>:</p><ul><li>您没有在 <code>config/model_config.toml</code> 文件中正确配置API密钥。</li><li>您的API密钥复制不完整或包含了多余的字符（如空格）。</li><li>您使用的API密钥已被吊销或已过期。</li></ul></li><li><p><strong>解决方案</strong>:</p><ol><li>打开 <code>config/model_config.toml</code> 文件。</li><li>找到您正在使用的模型提供商（例如 <code>openai</code>, <code>deepseek</code> 等）的配置部分。</li><li>仔细检查 <code>api_key</code> 字段，确保其值是您从提供商处获取的完整且正确的密钥。</li><li>确认您的账户状态正常，密钥未被禁用。</li></ol></li></ul><h3 id="q-请求失败并返回-400、402-或-403-状态码是什么原因" tabindex="-1">Q: 请求失败并返回 <code>400</code>、<code>402</code> 或 <code>403</code> 状态码是什么原因？ <a class="header-anchor" href="#q-请求失败并返回-400、402-或-403-状态码是什么原因" aria-label="Permalink to “Q: 请求失败并返回 400、402 或 403 状态码是什么原因？”">​</a></h3><p><strong>A:</strong> 这些状态码通常与请求参数、账户状态或权限有关。</p><ul><li><p><strong><code>400 Bad Request</code> (参数不正确)</strong>:</p><ul><li><strong>原因</strong>: 您发送给API的请求体包含了无效或缺失的参数。这可能是由于模型不支持某些功能（如特定的<code>tool</code>或<code>response_format</code>）导致的。</li><li><strong>解决方案</strong>: 检查您的代码或配置，确保传递给模型的参数是符合API文档规范的。</li></ul></li><li><p><strong><code>402 Payment Required</code> (账号余额不足)</strong>:</p><ul><li><strong>原因</strong>: 您的模型API账户余额不足以支付本次请求的费用。</li><li><strong>解决方案</strong>: 请前往对应的API提供商网站为您的账户充值。</li></ul></li><li><p><strong><code>403 Forbidden</code> (需要实名或权限不足)</strong>:</p><ul><li><strong>原因</strong>: <ul><li>您的账户需要完成实名认证才能使用该模型。</li><li>您的账户没有权限访问所请求的模型。</li><li>在某些情况下，也可能是由于余额不足。</li></ul></li><li><strong>解决方案</strong>: 登录API提供商的网站，根据提示完成实名认证或检查您的账户权限设置。</li></ul></li></ul><h3 id="q-请求失败并返回-429-too-many-requests-状态码是什么原因" tabindex="-1">Q: 请求失败并返回 <code>429 Too Many Requests</code> 状态码是什么原因？ <a class="header-anchor" href="#q-请求失败并返回-429-too-many-requests-状态码是什么原因" aria-label="Permalink to “Q: 请求失败并返回 429 Too Many Requests 状态码是什么原因？”">​</a></h3><p><strong>A:</strong> 这表示 <strong>您的请求过于频繁</strong>，已超出API提供商的速率限制（Rate Limit）。</p><ul><li><strong>原因</strong>: 在短时间内发送了大量请求。每个API提供商对不同等级的账户都有不同的请求频率限制（例如，每分钟的请求数）。</li><li><strong>解决方案</strong>: <ol><li>程序会自动进行重试。在 <code>utils_model.py</code> 中，系统会默认等待一段时间（<code>retry_interval</code>）后再次尝试。</li><li>如果问题持续存在，请考虑降低您的请求频率，或升级您的API账户以获取更高的速率限制。</li></ol></li></ul><h3 id="q-请求失败并返回-500-或-503-状态码是什么原因" tabindex="-1">Q: 请求失败并返回 <code>500</code> 或 <code>503</code> 状态码是什么原因？ <a class="header-anchor" href="#q-请求失败并返回-500-或-503-状态码是什么原因" aria-label="Permalink to “Q: 请求失败并返回 500 或 503 状态码是什么原因？”">​</a></h3><p><strong>A:</strong> 这些是 <strong>服务器端错误</strong>，表示问题出在API提供商的服务器上。</p><ul><li><p><strong><code>500 Internal Server Error</code> (服务器内部故障)</strong>:</p><ul><li><strong>原因</strong>: API服务器在处理您的请求时遇到了意外的内部问题。</li></ul></li><li><p><strong><code>503 Service Unavailable</code> (服务器负载过高)</strong>:</p><ul><li><strong>原因</strong>: API服务器当前负载过高，无法处理您的请求。</li></ul></li><li><p><strong>解决方案</strong>:</p><ol><li>程序会自动进行重试。这通常是临时性问题，稍后重试即可解决。</li><li>如果长时间持续出现此问题，请检查API提供商的状态页面或社区，确认是否存在大范围的服务中断。</li></ol></li></ul><h2 id="网络与连接问题" tabindex="-1">网络与连接问题 <a class="header-anchor" href="#网络与连接问题" aria-label="Permalink to “网络与连接问题”">​</a></h2><h3 id="q-日志中出现-连接异常-connection-exception-是什么问题" tabindex="-1">Q: 日志中出现“连接异常 (Connection Exception)”是什么问题？ <a class="header-anchor" href="#q-日志中出现-连接异常-connection-exception-是什么问题" aria-label="Permalink to “Q: 日志中出现“连接异常 (Connection Exception)”是什么问题？”">​</a></h3><p><strong>A:</strong> 这表示您的服务器 <strong>无法与模型API服务器建立网络连接</strong>。</p><ul><li><strong>原因</strong>: <ul><li>您的服务器网络连接不稳定或中断。</li><li>API服务器地址（<code>base_url</code>）配置错误。</li><li>防火墙或网络代理阻止了对API服务器的访问。</li></ul></li><li><strong>解决方案</strong>: <ol><li>检查您的服务器网络是否正常，尝试 <code>ping</code> 或 <code>curl</code> API的 <code>base_url</code> 看是否能通。</li><li>核对 <code>config/model_config.toml</code> 中的 <code>base_url</code> 是否正确无误。</li><li>检查防火墙或代理设置，确保程序有权限访问外部网络。</li></ol></li></ul><h3 id="q-日志中出现-响应解析错误-response-parse-error-是什么问题" tabindex="-1">Q: 日志中出现“响应解析错误 (Response Parse Error)”是什么问题？ <a class="header-anchor" href="#q-日志中出现-响应解析错误-response-parse-error-是什么问题" aria-label="Permalink to “Q: 日志中出现“响应解析错误 (Response Parse Error)”是什么问题？”">​</a></h3><p><strong>A:</strong> 这表示程序成功接收到了API服务器的响应，但在 <strong>解析响应内容（通常是JSON格式）时失败了</strong>。</p><ul><li><strong>原因</strong>: <ul><li>API返回了非预期的格式（例如，HTML错误页面而不是JSON）。</li><li>API返回的JSON格式不正确或已损坏。</li><li>网络传输过程中数据包损坏。</li></ul></li><li><strong>解决方案</strong>: <ol><li>检查日志中记录的原始响应内容（<code>e.ext_info</code>），分析其结构是否符合预期。</li><li>这通常是API提供商的临时问题。如果频繁出现，可以向API提供商报告此问题。</li></ol></li></ul>',23)),l(i),l(r)])}const m=n(d,[["render",c]]);export{A as __pageData,m as default};
