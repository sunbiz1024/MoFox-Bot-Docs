import{_ as s,c as a,o as l,af as t}from"./chunks/framework.Du4BpUy5.js";const o=JSON.parse('{"title":"插件管理API","description":"","frontmatter":{},"headers":[],"relativePath":"docs/plugins/api/plugin-manage-api.md","filePath":"docs/plugins/api/plugin-manage-api.md"}'),e={name:"docs/plugins/api/plugin-manage-api.md"};function n(h,i,p,r,k,d){return l(),a("div",null,[...i[0]||(i[0]=[t(`<h1 id="插件管理api" tabindex="-1">插件管理API <a class="header-anchor" href="#插件管理api" aria-label="Permalink to “插件管理API”">​</a></h1><p>插件管理API模块提供了对插件的加载、卸载、重新加载以及目录管理功能。</p><h2 id="导入方式" tabindex="-1">导入方式 <a class="header-anchor" href="#导入方式" aria-label="Permalink to “导入方式”">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system.apis </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin_manage_api</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin_manage_api</span></span></code></pre></div><h2 id="功能概述" tabindex="-1">功能概述 <a class="header-anchor" href="#功能概述" aria-label="Permalink to “功能概述”">​</a></h2><p>插件管理API主要提供以下功能：</p><ul><li><strong>插件查询</strong> - 列出当前加载的插件或已注册的插件。</li><li><strong>插件管理</strong> - 加载、卸载、重新加载插件。</li><li><strong>插件目录管理</strong> - 添加插件目录并重新扫描。</li></ul><h2 id="主要功能" tabindex="-1">主要功能 <a class="header-anchor" href="#主要功能" aria-label="Permalink to “主要功能”">​</a></h2><h3 id="_1-列出当前加载的插件" tabindex="-1">1. 列出当前加载的插件 <a class="header-anchor" href="#_1-列出当前加载的插件" aria-label="Permalink to “1. 列出当前加载的插件”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list_loaded_plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() -&gt; List[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span></code></pre></div><p>列出所有当前加载的插件。</p><p><strong>Returns:</strong></p><ul><li><code>List[str]</code> - 当前加载的插件名称列表。</li></ul><h3 id="_2-列出所有已注册的插件" tabindex="-1">2. 列出所有已注册的插件 <a class="header-anchor" href="#_2-列出所有已注册的插件" aria-label="Permalink to “2. 列出所有已注册的插件”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list_registered_plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() -&gt; List[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span></code></pre></div><p>列出所有已注册的插件。</p><p><strong>Returns:</strong></p><ul><li><code>List[str]</code> - 已注册的插件名称列表。</li></ul><h3 id="_3-获取插件路径" tabindex="-1">3. 获取插件路径 <a class="header-anchor" href="#_3-获取插件路径" aria-label="Permalink to “3. 获取插件路径”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_plugin_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div><p>获取指定插件的路径。</p><p><strong>Args:</strong></p><ul><li><code>plugin_name</code> (str): 要查询的插件名称。 <strong>Returns:</strong></li><li><code>str</code> - 插件的路径，如果插件不存在则 raise ValueError。</li></ul><h3 id="_4-卸载指定的插件" tabindex="-1">4. 卸载指定的插件 <a class="header-anchor" href="#_4-卸载指定的插件" aria-label="Permalink to “4. 卸载指定的插件”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> remove_plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div><p>卸载指定的插件。</p><p><strong>Args:</strong></p><ul><li><code>plugin_name</code> (str): 要卸载的插件名称。</li></ul><p><strong>Returns:</strong></p><ul><li><code>bool</code> - 卸载是否成功。</li></ul><h3 id="_5-重新加载指定的插件" tabindex="-1">5. 重新加载指定的插件 <a class="header-anchor" href="#_5-重新加载指定的插件" aria-label="Permalink to “5. 重新加载指定的插件”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reload_plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div><p>重新加载指定的插件。</p><p><strong>Args:</strong></p><ul><li><code>plugin_name</code> (str): 要重新加载的插件名称。</li></ul><p><strong>Returns:</strong></p><ul><li><code>bool</code> - 重新加载是否成功。</li></ul><h3 id="_6-加载指定的插件" tabindex="-1">6. 加载指定的插件 <a class="header-anchor" href="#_6-加载指定的插件" aria-label="Permalink to “6. 加载指定的插件”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> load_plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span></code></pre></div><p>加载指定的插件。</p><p><strong>Args:</strong></p><ul><li><code>plugin_name</code> (str): 要加载的插件名称。</li></ul><p><strong>Returns:</strong></p><ul><li><code>Tuple[bool, int]</code> - 加载是否成功，成功或失败的个数。</li></ul><h3 id="_7-添加插件目录" tabindex="-1">7. 添加插件目录 <a class="header-anchor" href="#_7-添加插件目录" aria-label="Permalink to “7. 添加插件目录”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add_plugin_directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plugin_directory: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div><p>添加插件目录。</p><p><strong>Args:</strong></p><ul><li><code>plugin_directory</code> (str): 要添加的插件目录路径。</li></ul><p><strong>Returns:</strong></p><ul><li><code>bool</code> - 添加是否成功。</li></ul><h3 id="_8-重新扫描插件目录" tabindex="-1">8. 重新扫描插件目录 <a class="header-anchor" href="#_8-重新扫描插件目录" aria-label="Permalink to “8. 重新扫描插件目录”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rescan_plugin_directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() -&gt; Tuple[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span></span></code></pre></div><p>重新扫描插件目录，加载新插件。</p><p><strong>Returns:</strong></p><ul><li><code>Tuple[int, int]</code> - 成功加载的插件数量和失败的插件数量。</li></ul>`,56)])])}const c=s(e,[["render",n]]);export{o as __pageData,c as default};
