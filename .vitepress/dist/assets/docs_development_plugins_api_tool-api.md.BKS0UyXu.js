import{_ as o,I as t,c as k,o as r,a3 as n,j as s,J as l,a,w as d}from"./chunks/framework.Coydrlbh.js";const F=JSON.parse('{"title":"工具API","description":"","frontmatter":{},"headers":[],"relativePath":"docs/development/plugins/api/tool-api.md","filePath":"docs/development/plugins/api/tool-api.md","lastUpdated":1756555974000}'),g={name:"docs/development/plugins/api/tool-api.md"};function E(y,i,c,u,b,_){const e=t("VPNolebaseInlineLinkPreview"),h=t("NolebaseGitContributors"),p=t("NolebaseGitChangelog");return r(),k("div",null,[i[7]||(i[7]=n(`<h1 id="工具api" tabindex="-1">工具API <a class="header-anchor" href="#工具api" aria-label="Permalink to “工具API”">​</a></h1><p>工具API模块提供了获取和管理工具实例的功能，让插件能够访问系统中注册的工具。</p><h2 id="导入方式" tabindex="-1">导入方式 <a class="header-anchor" href="#导入方式" aria-label="Permalink to “导入方式”">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system.apis </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tool_api</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tool_api</span></span></code></pre></div><h2 id="主要功能" tabindex="-1">主要功能 <a class="header-anchor" href="#主要功能" aria-label="Permalink to “主要功能”">​</a></h2><h3 id="_1-获取工具实例" tabindex="-1">1. 获取工具实例 <a class="header-anchor" href="#_1-获取工具实例" aria-label="Permalink to “1. 获取工具实例”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_tool_instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tool_name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; Optional[BaseTool]:</span></span></code></pre></div><p>获取指定名称的工具实例。</p><p><strong>Args</strong>:</p><ul><li><code>tool_name</code>: 工具名称字符串</li></ul><p><strong>Returns</strong>:</p><ul><li><code>Optional[BaseTool]</code>: 工具实例，如果工具不存在则返回 None</li></ul><h3 id="_2-获取llm可用的工具定义" tabindex="-1">2. 获取LLM可用的工具定义 <a class="header-anchor" href="#_2-获取llm可用的工具定义" aria-label="Permalink to “2. 获取LLM可用的工具定义”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_llm_available_tool_definitions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span></code></pre></div><p>获取所有LLM可用的工具定义列表。</p><p><strong>Returns</strong>:</p>`,16)),s("ul",null,[s("li",null,[i[3]||(i[3]=s("code",null,"List[Tuple[str, Dict[str, Any]]]",-1)),i[4]||(i[4]=a(": 工具定义列表，每个元素为 ",-1)),i[5]||(i[5]=s("code",null,"(工具名称, 工具定义字典)",-1)),i[6]||(i[6]=a(" 的元组 ",-1)),s("ul",null,[s("li",null,[i[1]||(i[1]=a("其具体定义请参照",-1)),l(e,{href:"./../tool_guide.html#属性说明"},{default:d(()=>[...i[0]||(i[0]=[a("tool-components.md",-1)])]),_:1}),i[2]||(i[2]=a("中的工具定义格式。",-1))])])])]),i[8]||(i[8]=n(`<h4 id="示例" tabindex="-1">示例： <a class="header-anchor" href="#示例" aria-label="Permalink to “示例：”">​</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取所有LLM可用的工具定义</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tools </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tool_api.get_llm_available_tool_definitions()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tool_name, tool_definition </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tools:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;工具: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tool_name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;定义: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tool_definition</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to “注意事项”">​</a></h2><ol><li><strong>工具存在性检查</strong>：使用前请检查工具实例是否为 None</li><li><strong>权限控制</strong>：某些工具可能有使用权限限制</li><li><strong>异步调用</strong>：大多数工具方法是异步的，需要使用 await</li><li><strong>错误处理</strong>：调用工具时请做好异常处理</li></ol>`,4)),l(h),l(p)])}const f=o(g,[["render",E]]);export{F as __pageData,f as default};
