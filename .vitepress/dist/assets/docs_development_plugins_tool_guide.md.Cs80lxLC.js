import{_ as h,I as i,c as l,o as k,a3 as p,J as a}from"./chunks/framework.xghCY4x5.js";const c=JSON.parse('{"title":"ğŸ”§ å·¥å…·ç»„ä»¶è¯¦è§£","description":"","frontmatter":{},"headers":[],"relativePath":"docs/development/plugins/tool_guide.md","filePath":"docs/development/plugins/tool_guide.md","lastUpdated":1756555974000}'),e={name:"docs/development/plugins/tool_guide.md"};function r(E,s,d,g,o,y){const n=i("NolebaseGitContributors"),t=i("NolebaseGitChangelog");return k(),l("div",null,[s[0]||(s[0]=p(`<h1 id="ğŸ”§-å·¥å…·ç»„ä»¶è¯¦è§£" tabindex="-1">ğŸ”§ å·¥å…·ç»„ä»¶è¯¦è§£ <a class="header-anchor" href="#ğŸ”§-å·¥å…·ç»„ä»¶è¯¦è§£" aria-label="Permalink to â€œğŸ”§ å·¥å…·ç»„ä»¶è¯¦è§£â€">â€‹</a></h1><h2 id="ğŸ“–-ä»€ä¹ˆæ˜¯å·¥å…·" tabindex="-1">ğŸ“– ä»€ä¹ˆæ˜¯å·¥å…· <a class="header-anchor" href="#ğŸ“–-ä»€ä¹ˆæ˜¯å·¥å…·" aria-label="Permalink to â€œğŸ“– ä»€ä¹ˆæ˜¯å·¥å…·â€">â€‹</a></h2><p>å·¥å…·æ˜¯MoFox_Botçš„ä¿¡æ¯è·å–èƒ½åŠ›æ‰©å±•ç»„ä»¶ã€‚å¦‚æœè¯´Actionç»„ä»¶åŠŸèƒ½äº”èŠ±å…«é—¨ï¼Œå¯ä»¥æ‹“å±•éº¦éº¦èƒ½åšçš„äº‹æƒ…ï¼Œé‚£ä¹ˆToolå°±æ˜¯åœ¨æŸä¸ªè¿‡ç¨‹ä¸­æ‹“å®½äº†MoFox_Botèƒ½å¤Ÿè·å¾—çš„ä¿¡æ¯é‡ã€‚</p><h3 id="ğŸ¯-å·¥å…·çš„ç‰¹ç‚¹" tabindex="-1">ğŸ¯ å·¥å…·çš„ç‰¹ç‚¹ <a class="header-anchor" href="#ğŸ¯-å·¥å…·çš„ç‰¹ç‚¹" aria-label="Permalink to â€œğŸ¯ å·¥å…·çš„ç‰¹ç‚¹â€">â€‹</a></h3><ul><li>ğŸ” <strong>ä¿¡æ¯è·å–å¢å¼º</strong>ï¼šæ‰©å±•MoFox_Botè·å–å¤–éƒ¨ä¿¡æ¯çš„èƒ½åŠ›</li><li>ğŸ“Š <strong>æ•°æ®ä¸°å¯Œ</strong>ï¼šå¸®åŠ©éº¦éº¦è·å¾—æ›´å¤šèƒŒæ™¯ä¿¡æ¯å’Œå®æ—¶æ•°æ®</li><li>ğŸ”Œ <strong>æ’ä»¶å¼æ¶æ„</strong>ï¼šæ”¯æŒç‹¬ç«‹å¼€å‘å’Œæ³¨å†Œæ–°å·¥å…·</li><li>âš¡ <strong>è‡ªåŠ¨å‘ç°</strong>ï¼šå·¥å…·ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å’Œæ³¨å†Œ</li></ul><h3 id="ğŸ†š-tool-vs-action-vs-command-åŒºåˆ«" tabindex="-1">ğŸ†š Tool vs Action vs Command åŒºåˆ« <a class="header-anchor" href="#ğŸ†š-tool-vs-action-vs-command-åŒºåˆ«" aria-label="Permalink to â€œğŸ†š Tool vs Action vs Command åŒºåˆ«â€">â€‹</a></h3><table tabindex="0"><thead><tr><th>ç‰¹å¾</th><th>Action</th><th>Command</th><th>Tool</th></tr></thead><tbody><tr><td><strong>ä¸»è¦ç”¨é€”</strong></td><td>æ‰©å±•MoFox_Botè¡Œä¸ºèƒ½åŠ›</td><td>å“åº”ç”¨æˆ·æŒ‡ä»¤</td><td>æ‰©å±•MoFox_Botä¿¡æ¯è·å–</td></tr><tr><td><strong>è§¦å‘æ–¹å¼</strong></td><td>MoFox_Botæ™ºèƒ½å†³ç­–</td><td>ç”¨æˆ·ä¸»åŠ¨è§¦å‘</td><td>LLMæ ¹æ®éœ€è¦è°ƒç”¨</td></tr><tr><td><strong>ç›®æ ‡</strong></td><td>è®©MoFox_Botåšæ›´å¤šäº‹æƒ…</td><td>æä¾›å…·ä½“åŠŸèƒ½</td><td>è®©MoFox_BotçŸ¥é“æ›´å¤šä¿¡æ¯</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>å¢å¼ºäº¤äº’ä½“éªŒ</td><td>åŠŸèƒ½æœåŠ¡</td><td>ä¿¡æ¯æŸ¥è¯¢å’Œåˆ†æ</td></tr></tbody></table><h2 id="ğŸ—ï¸-toolç»„ä»¶çš„åŸºæœ¬ç»“æ„" tabindex="-1">ğŸ—ï¸ Toolç»„ä»¶çš„åŸºæœ¬ç»“æ„ <a class="header-anchor" href="#ğŸ—ï¸-toolç»„ä»¶çš„åŸºæœ¬ç»“æ„" aria-label="Permalink to â€œğŸ—ï¸ Toolç»„ä»¶çš„åŸºæœ¬ç»“æ„â€">â€‹</a></h2><p>æ¯ä¸ªå·¥å…·å¿…é¡»ç»§æ‰¿ <code>BaseTool</code> åŸºç±»å¹¶å®ç°ä»¥ä¸‹å±æ€§å’Œæ–¹æ³•ï¼š</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseTool, ToolParamType</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å·¥å…·åç§°ï¼Œå¿…é¡»å”¯ä¸€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;my_tool&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å·¥å…·æè¿°ï¼Œå‘Šè¯‰LLMè¿™ä¸ªå·¥å…·çš„ç”¨é€”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;è¿™ä¸ªå·¥å…·ç”¨äºè·å–ç‰¹å®šç±»å‹çš„ä¿¡æ¯&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å‚æ•°å®šä¹‰ï¼Œä»…å®šä¹‰å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ¯”å¦‚æƒ³è¦å®šä¹‰ä¸€ä¸ªç±»ä¼¼ä¸‹é¢çš„openaiæ ¼å¼çš„å‚æ•°è¡¨ï¼Œåˆ™å¯ä»¥è¿™ä¹ˆå®šä¹‰:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #     &quot;type&quot;: &quot;object&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #     &quot;properties&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #         &quot;query&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #             &quot;type&quot;: &quot;string&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #             &quot;description&quot;: &quot;æŸ¥è¯¢å‚æ•°&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #         },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #         &quot;limit&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #             &quot;type&quot;: &quot;integer&quot;, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #             &quot;description&quot;: &quot;ç»“æœæ•°é‡é™åˆ¶&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #             &quot;enum&quot;: [10, 20, 50]  # å¯é€‰å€¼</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #         }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #     },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #     &quot;required&quot;: [&quot;query&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æŸ¥è¯¢å‚æ•°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¿…å¡«å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">INTEGER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç»“æœæ•°é‡é™åˆ¶&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;20&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;50&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯é€‰å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    available_for_llm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æ˜¯å¦å¯¹LLMå¯ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, function_args: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;æ‰§è¡Œå·¥å…·é€»è¾‘&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # å®ç°å·¥å…·åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æŸ¥è¯¢ç»“æœ: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">function_args.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;query&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: result</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre></div><h3 id="å±æ€§è¯´æ˜" tabindex="-1">å±æ€§è¯´æ˜ <a class="header-anchor" href="#å±æ€§è¯´æ˜" aria-label="Permalink to â€œå±æ€§è¯´æ˜â€">â€‹</a></h3><table tabindex="0"><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>name</code></td><td>str</td><td>å·¥å…·çš„å”¯ä¸€æ ‡è¯†åç§°</td></tr><tr><td><code>description</code></td><td>str</td><td>å·¥å…·åŠŸèƒ½æè¿°ï¼Œå¸®åŠ©LLMç†è§£ç”¨é€”</td></tr><tr><td><code>parameters</code></td><td>list[tuple]</td><td>å‚æ•°å®šä¹‰</td></tr></tbody></table><p>å…¶æ„é€ è€Œæˆçš„å·¥å…·å®šä¹‰ä¸º:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">definition: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.description, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parameters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.parameters}</span></span></code></pre></div><h3 id="æ–¹æ³•è¯´æ˜" tabindex="-1">æ–¹æ³•è¯´æ˜ <a class="header-anchor" href="#æ–¹æ³•è¯´æ˜" aria-label="Permalink to â€œæ–¹æ³•è¯´æ˜â€">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>å‚æ•°</th><th>è¿”å›å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>execute</code></td><td><code>function_args</code></td><td><code>dict</code></td><td>æ‰§è¡Œå·¥å…·æ ¸å¿ƒé€»è¾‘</td></tr></tbody></table><hr><h2 id="ğŸ¨-å®Œæ•´å·¥å…·ç¤ºä¾‹" tabindex="-1">ğŸ¨ å®Œæ•´å·¥å…·ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ¨-å®Œæ•´å·¥å…·ç¤ºä¾‹" aria-label="Permalink to â€œğŸ¨ å®Œæ•´å·¥å…·ç¤ºä¾‹â€">â€‹</a></h2><p>å®Œæˆä¸€ä¸ªå¤©æ°”æŸ¥è¯¢å·¥å…·</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseTool</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aiohttp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> orjson</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WeatherTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;å¤©æ°”æŸ¥è¯¢å·¥å…· - è·å–æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;weather_query&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¸©åº¦ã€æ¹¿åº¦ã€å¤©æ°”çŠ¶å†µç­‰&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    available_for_llm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å…è®¸LLMè°ƒç”¨æ­¤å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¦æŸ¥è¯¢å¤©æ°”çš„åŸå¸‚åç§°ï¼Œå¦‚ï¼šåŒ—äº¬ã€ä¸Šæµ·ã€çº½çº¦&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;country&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å›½å®¶ä»£ç ï¼Œå¦‚ï¼šCNã€USï¼Œå¯é€‰å‚æ•°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, function_args: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;æ‰§è¡Œå¤©æ°”æŸ¥è¯¢&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            city </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> function_args.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            country </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> function_args.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;country&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # æ„å»ºæŸ¥è¯¢å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">city</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">country</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> country </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> city</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # è°ƒç”¨å¤©æ°”APIï¼ˆç¤ºä¾‹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            weather_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._fetch_weather(location)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # æ ¼å¼åŒ–ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._format_weather_data(weather_data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: result</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¤©æ°”æŸ¥è¯¢å¤±è´¥: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _fetch_weather</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, location: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;è·å–å¤©æ°”æ•°æ®&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # è¿™é‡Œæ˜¯ç¤ºä¾‹ï¼Œå®é™…éœ€è¦æ¥å…¥çœŸå®çš„å¤©æ°”API</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        api_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://api.weather.com/v1/current?q=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aiohttp.ClientSession() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.get(api_url) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.json()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _format_weather_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, data: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;æ ¼å¼åŒ–å¤©æ°”æ•°æ®&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æš‚æ— å¤©æ°”æ•°æ®&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æå–å…³é”®ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        city </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;location&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}).get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªçŸ¥åŸå¸‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        temp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}).get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temp_c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªçŸ¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        condition </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}).get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;condition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}).get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªçŸ¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        humidity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}).get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;humidity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœªçŸ¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æ ¼å¼åŒ–è¾“å‡º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸŒ¤ï¸ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">city</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å®æ—¶å¤©æ°”</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸŒ¡ï¸ æ¸©åº¦: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">temp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Â°C</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â˜ï¸ å¤©æ°”: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">condition</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸ’§ æ¹¿åº¦: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">humidity</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">%</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.strip()</span></span></code></pre></div><hr><h2 id="ğŸš¨-æ³¨æ„äº‹é¡¹å’Œé™åˆ¶" tabindex="-1">ğŸš¨ æ³¨æ„äº‹é¡¹å’Œé™åˆ¶ <a class="header-anchor" href="#ğŸš¨-æ³¨æ„äº‹é¡¹å’Œé™åˆ¶" aria-label="Permalink to â€œğŸš¨ æ³¨æ„äº‹é¡¹å’Œé™åˆ¶â€">â€‹</a></h2><h3 id="å½“å‰é™åˆ¶" tabindex="-1">å½“å‰é™åˆ¶ <a class="header-anchor" href="#å½“å‰é™åˆ¶" aria-label="Permalink to â€œå½“å‰é™åˆ¶â€">â€‹</a></h3><ol><li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼šä¸»è¦é€‚ç”¨äºä¿¡æ¯è·å–åœºæ™¯</li><li><strong>é…ç½®è¦æ±‚</strong>ï¼šå¿…é¡»å¼€å¯å·¥å…·å¤„ç†å™¨</li></ol><h3 id="å¼€å‘å»ºè®®" tabindex="-1">å¼€å‘å»ºè®® <a class="header-anchor" href="#å¼€å‘å»ºè®®" aria-label="Permalink to â€œå¼€å‘å»ºè®®â€">â€‹</a></h3><ol><li><strong>åŠŸèƒ½ä¸“ä¸€</strong>ï¼šæ¯ä¸ªå·¥å…·ä¸“æ³¨å•ä¸€åŠŸèƒ½</li><li><strong>å‚æ•°æ˜ç¡®</strong>ï¼šæ¸…æ™°å®šä¹‰å·¥å…·å‚æ•°å’Œç”¨é€”</li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯åé¦ˆ</li><li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šé¿å…é•¿æ—¶é—´é˜»å¡æ“ä½œ</li><li><strong>ä¿¡æ¯å‡†ç¡®</strong>ï¼šç¡®ä¿è·å–ä¿¡æ¯çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§</li></ol><h2 id="ğŸ¯-æœ€ä½³å®è·µ" tabindex="-1">ğŸ¯ æœ€ä½³å®è·µ <a class="header-anchor" href="#ğŸ¯-æœ€ä½³å®è·µ" aria-label="Permalink to â€œğŸ¯ æœ€ä½³å®è·µâ€">â€‹</a></h2><h3 id="_1-å·¥å…·å‘½åè§„èŒƒ" tabindex="-1">1. å·¥å…·å‘½åè§„èŒƒ <a class="header-anchor" href="#_1-å·¥å…·å‘½åè§„èŒƒ" aria-label="Permalink to â€œ1. å·¥å…·å‘½åè§„èŒƒâ€">â€‹</a></h3><h4 id="âœ…-å¥½çš„å‘½å" tabindex="-1">âœ… å¥½çš„å‘½å <a class="header-anchor" href="#âœ…-å¥½çš„å‘½å" aria-label="Permalink to â€œâœ… å¥½çš„å‘½åâ€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;weather_query&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # æ¸…æ™°è¡¨è¾¾åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;knowledge_search&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # æè¿°æ€§å¼º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;stock_price_check&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # åŠŸèƒ½æ˜ç¡®</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">\`\`\`</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:italic;--shiki-dark:#6A737D;--shiki-dark-font-style:italic;">#### âŒ é¿å…çš„å‘½å</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">\`\`\`python</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;tool1&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # æ— æ„ä¹‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;wq&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                  # è¿‡äºç®€çŸ­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;weather_and_news&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # åŠŸèƒ½è¿‡äºå¤æ‚</span></span></code></pre></div><h3 id="_2-æè¿°è§„èŒƒ" tabindex="-1">2. æè¿°è§„èŒƒ <a class="header-anchor" href="#_2-æè¿°è§„èŒƒ" aria-label="Permalink to â€œ2. æè¿°è§„èŒƒâ€">â€‹</a></h3><h4 id="âœ…-è‰¯å¥½çš„æè¿°" tabindex="-1">âœ… è‰¯å¥½çš„æè¿° <a class="header-anchor" href="#âœ…-è‰¯å¥½çš„æè¿°" aria-label="Permalink to â€œâœ… è‰¯å¥½çš„æè¿°â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¸©åº¦ã€æ¹¿åº¦ã€å¤©æ°”çŠ¶å†µ&quot;</span></span></code></pre></div><h4 id="âŒ-é¿å…çš„æè¿°" tabindex="-1">âŒ é¿å…çš„æè¿° <a class="header-anchor" href="#âŒ-é¿å…çš„æè¿°" aria-label="Permalink to â€œâŒ é¿å…çš„æè¿°â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;å¤©æ°”&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # è¿‡äºç®€å•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;è·å–ä¿¡æ¯&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # ä¸å¤Ÿå…·ä½“</span></span></code></pre></div><h3 id="_3-å‚æ•°è®¾è®¡" tabindex="-1">3. å‚æ•°è®¾è®¡ <a class="header-anchor" href="#_3-å‚æ•°è®¾è®¡" aria-label="Permalink to â€œ3. å‚æ•°è®¾è®¡â€">â€‹</a></h3><h4 id="âœ…-åˆç†çš„å‚æ•°è®¾è®¡" tabindex="-1">âœ… åˆç†çš„å‚æ•°è®¾è®¡ <a class="header-anchor" href="#âœ…-åˆç†çš„å‚æ•°è®¾è®¡" aria-label="Permalink to â€œâœ… åˆç†çš„å‚æ•°è®¾è®¡â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åŸå¸‚åç§°ï¼Œå¦‚ï¼šåŒ—äº¬ã€ä¸Šæµ·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;unit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ¸©åº¦å•ä½ï¼šcelsius æˆ– fahrenheit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;celsius&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fahrenheit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h4 id="âŒ-é¿å…çš„å‚æ•°è®¾è®¡" tabindex="-1">âŒ é¿å…çš„å‚æ•°è®¾è®¡ <a class="header-anchor" href="#âŒ-é¿å…çš„å‚æ•°è®¾è®¡" aria-label="Permalink to â€œâŒ é¿å…çš„å‚æ•°è®¾è®¡â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ•°æ®&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‚æ•°è¿‡äºæ¨¡ç³Š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="_4-ç»“æœæ ¼å¼åŒ–" tabindex="-1">4. ç»“æœæ ¼å¼åŒ– <a class="header-anchor" href="#_4-ç»“æœæ ¼å¼åŒ–" aria-label="Permalink to â€œ4. ç»“æœæ ¼å¼åŒ–â€">â€‹</a></h3><h4 id="âœ…-è‰¯å¥½çš„ç»“æœæ ¼å¼" tabindex="-1">âœ… è‰¯å¥½çš„ç»“æœæ ¼å¼ <a class="header-anchor" href="#âœ…-è‰¯å¥½çš„ç»“æœæ ¼å¼" aria-label="Permalink to â€œâœ… è‰¯å¥½çš„ç»“æœæ ¼å¼â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _format_result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, data):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸ” æŸ¥è¯¢ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â”â”â”â”â”â”â”â”â”â”â”â”</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸ“Š æ•°æ®: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;value&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸ“… æ—¶é—´: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;timestamp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ğŸ“ è¯´æ˜: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;description&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â”â”â”â”â”â”â”â”â”â”â”â”</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.strip()</span></span></code></pre></div><h4 id="âŒ-é¿å…çš„ç»“æœæ ¼å¼" tabindex="-1">âŒ é¿å…çš„ç»“æœæ ¼å¼ <a class="header-anchor" href="#âŒ-é¿å…çš„ç»“æœæ ¼å¼" aria-label="Permalink to â€œâŒ é¿å…çš„ç»“æœæ ¼å¼â€">â€‹</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _format_result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, data):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç›´æ¥è¿”å›åŸå§‹æ•°æ®</span></span></code></pre></div><hr><h1 id="è‡ªåŠ¨åŒ–å·¥å…·ç¼“å­˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—" tabindex="-1">è‡ªåŠ¨åŒ–å·¥å…·ç¼“å­˜ç³»ç»Ÿä½¿ç”¨æŒ‡å— <a class="header-anchor" href="#è‡ªåŠ¨åŒ–å·¥å…·ç¼“å­˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—" aria-label="Permalink to â€œè‡ªåŠ¨åŒ–å·¥å…·ç¼“å­˜ç³»ç»Ÿä½¿ç”¨æŒ‡å—â€">â€‹</a></h1><p>ä¸ºäº†æå‡æ€§èƒ½å¹¶å‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—æˆ–APIè°ƒç”¨ï¼ŒMMCå†…ç½®äº†ä¸€å¥—å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„è‡ªåŠ¨åŒ–å·¥å…·ç¼“å­˜ç³»ç»Ÿã€‚è¯¥ç³»ç»ŸåŒæ—¶æ”¯æŒä¼ ç»Ÿçš„<strong>ç²¾ç¡®ç¼“å­˜</strong>å’Œå…ˆè¿›çš„<strong>è¯­ä¹‰ç¼“å­˜</strong>ã€‚å·¥å…·å¼€å‘è€…æ— éœ€ç¼–å†™ä»»ä½•æ‰‹åŠ¨ç¼“å­˜é€»è¾‘ï¼Œåªéœ€åœ¨å·¥å…·ç±»ä¸­è®¾ç½®å‡ ä¸ªå±æ€§ï¼Œå³å¯è½»æ¾å¯ç”¨å’Œé…ç½®ç¼“å­˜è¡Œä¸ºã€‚</p><h2 id="æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1">æ ¸å¿ƒæ¦‚å¿µ <a class="header-anchor" href="#æ ¸å¿ƒæ¦‚å¿µ" aria-label="Permalink to â€œæ ¸å¿ƒæ¦‚å¿µâ€">â€‹</a></h2><ul><li><strong>ç²¾ç¡®ç¼“å­˜ (KV Cache)</strong>: å½“ä¸€ä¸ªå·¥å…·è¢«è°ƒç”¨æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®å·¥å…·åç§°å’Œæ‰€æœ‰å‚æ•°ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„é”®ã€‚åªæœ‰å½“<strong>ä¸‹ä¸€æ¬¡è°ƒç”¨çš„å·¥å…·åå’Œæ‰€æœ‰å‚æ•°ä¸ä¹‹å‰å®Œå…¨ä¸€è‡´</strong>æ—¶ï¼Œæ‰ä¼šå‘½ä¸­ç¼“å­˜ã€‚</li><li><strong>è¯­ä¹‰ç¼“å­˜ (Vector Cache)</strong>: å®ƒä¸è¦æ±‚å‚æ•°å®Œå…¨ä¸€è‡´ï¼Œè€Œæ˜¯ç†è§£å‚æ•°çš„<strong>è¯­ä¹‰å’Œæ„å›¾</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>&quot;æŸ¥è¯¢æ·±åœ³ä»Šå¤©çš„å¤©æ°”&quot;</code> å’Œ <code>&quot;ä»Šå¤©æ·±åœ³å¤©æ°”æ€ä¹ˆæ ·&quot;</code> è¿™ä¸¤ä¸ªä¸åŒçš„æŸ¥è¯¢ï¼Œåœ¨è¯­ä¹‰ä¸Šæ˜¯é«˜åº¦ç›¸ä¼¼çš„ã€‚å¦‚æœå¯ç”¨äº†è¯­ä¹‰ç¼“å­˜ï¼Œç¬¬äºŒä¸ªæŸ¥è¯¢å°±èƒ½æˆåŠŸå‘½ä¸­ç”±ç¬¬ä¸€ä¸ªæŸ¥è¯¢äº§ç”Ÿçš„ç¼“å­˜ç»“æœã€‚</li></ul><h2 id="å¦‚ä½•ä¸ºä½ çš„å·¥å…·å¯ç”¨ç¼“å­˜" tabindex="-1">å¦‚ä½•ä¸ºä½ çš„å·¥å…·å¯ç”¨ç¼“å­˜ <a class="header-anchor" href="#å¦‚ä½•ä¸ºä½ çš„å·¥å…·å¯ç”¨ç¼“å­˜" aria-label="Permalink to â€œå¦‚ä½•ä¸ºä½ çš„å·¥å…·å¯ç”¨ç¼“å­˜â€">â€‹</a></h2><p>ä¸ºä½ çš„å·¥å…·ï¼ˆå¿…é¡»ç»§æ‰¿è‡ª <code>BaseTool</code>ï¼‰å¯ç”¨ç¼“å­˜éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ä½ çš„å·¥å…·ç±»å®šä¹‰ä¸­æ·»åŠ ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§å³å¯ï¼š</p><h3 id="_1-enable-cache-bool" tabindex="-1">1. <code>enable_cache: bool</code> <a class="header-anchor" href="#_1-enable-cache-bool" aria-label="Permalink to â€œ1. enable_cache: boolâ€">â€‹</a></h3><p>è¿™æ˜¯å¯ç”¨ç¼“å­˜çš„æ€»å¼€å…³ã€‚</p><ul><li><strong>ç±»å‹</strong>: <code>bool</code></li><li><strong>é»˜è®¤å€¼</strong>: <code>False</code></li><li><strong>ä½œç”¨</strong>: è®¾ç½®ä¸º <code>True</code> å³å¯ä¸ºè¯¥å·¥å…·å¯ç”¨ç¼“å­˜åŠŸèƒ½ã€‚å¦‚æœä¸º <code>False</code>ï¼Œåç»­çš„æ‰€æœ‰ç¼“å­˜é…ç½®éƒ½å°†æ— æ•ˆã€‚</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyAwesomeTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ... å…¶ä»–å®šä¹‰ ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enable_cache: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span></code></pre></div><h3 id="_2-cache-ttl-int" tabindex="-1">2. <code>cache_ttl: int</code> <a class="header-anchor" href="#_2-cache-ttl-int" aria-label="Permalink to â€œ2. cache_ttl: intâ€">â€‹</a></h3><p>è®¾ç½®ç¼“å­˜çš„ç”Ÿå­˜æ—¶é—´ï¼ˆTime-To-Liveï¼‰ã€‚</p><ul><li><strong>ç±»å‹</strong>: <code>int</code></li><li><strong>å•ä½</strong>: ç§’</li><li><strong>é»˜è®¤å€¼</strong>: <code>3600</code> (1å°æ—¶)</li><li><strong>ä½œç”¨</strong>: å®šä¹‰ç¼“å­˜æ¡ç›®åœ¨è¢«è§†ä¸ºè¿‡æœŸä¹‹å‰å¯ä»¥å­˜æ´»å¤šé•¿æ—¶é—´ã€‚</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyLongTermCacheTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ... å…¶ä»–å®šä¹‰ ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enable_cache: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cache_ttl: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 86400</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç¼“å­˜24å°æ—¶</span></span></code></pre></div><h3 id="_3-semantic-cache-query-key-optional-str" tabindex="-1">3. <code>semantic_cache_query_key: Optional[str]</code> <a class="header-anchor" href="#_3-semantic-cache-query-key-optional-str" aria-label="Permalink to â€œ3. semantic_cache_query_key: Optional[str]â€">â€‹</a></h3><p>å¯ç”¨è¯­ä¹‰ç¼“å­˜çš„å…³é”®ã€‚</p><ul><li><strong>ç±»å‹</strong>: <code>Optional[str]</code></li><li><strong>é»˜è®¤å€¼</strong>: <code>None</code></li><li><strong>ä½œç”¨</strong>: <ul><li>å°†æ­¤å±æ€§çš„å€¼è®¾ç½®ä¸ºä½ å·¥å…·çš„æŸä¸ª<strong>å‚æ•°çš„åç§°</strong>ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€‚</li><li>è‡ªåŠ¨åŒ–ç¼“å­˜ç³»ç»Ÿåœ¨å·¥ä½œæ—¶ï¼Œä¼šæå–è¯¥å‚æ•°çš„å€¼ï¼Œå°†å…¶è½¬æ¢ä¸ºå‘é‡ï¼Œå¹¶è¿›è¡Œè¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢ã€‚</li><li>å¦‚æœè¯¥å€¼ä¸º <code>None</code>ï¼Œåˆ™æ­¤å·¥å…·<strong>ä»…ä½¿ç”¨ç²¾ç¡®ç¼“å­˜</strong>ã€‚</li></ul></li></ul><p><strong>ç¤ºä¾‹</strong>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebSurfingTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;web_search&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¦æœç´¢çš„å…³é”®è¯æˆ–é—®é¢˜ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # ... å…¶ä»–å‚æ•° ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # --- ç¼“å­˜é…ç½® ---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enable_cache: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cache_ttl: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7200</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç¼“å­˜2å°æ—¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    semantic_cache_query_key: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;query&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # &lt;-- å…³é”®ï¼</span></span></code></pre></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>web_search</code> å·¥å…·çš„ <code>&quot;query&quot;</code> å‚æ•°å€¼ï¼ˆä¾‹å¦‚ï¼Œç”¨æˆ·è¾“å…¥çš„æœç´¢è¯ï¼‰å°†è¢«ç”¨äºè¯­ä¹‰ç¼“å­˜æœç´¢ã€‚</p><h2 id="å®Œæ•´ç¤ºä¾‹" tabindex="-1">å®Œæ•´ç¤ºä¾‹ <a class="header-anchor" href="#å®Œæ•´ç¤ºä¾‹" aria-label="Permalink to â€œå®Œæ•´ç¤ºä¾‹â€">â€‹</a></h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè°ƒç”¨å¤–éƒ¨APIæ¥è·å–è‚¡ç¥¨ä»·æ ¼çš„å·¥å…·ã€‚ç”±äºè‚¡ä»·åœ¨çŸ­æ—¶é—´å†…ç›¸å¯¹ç¨³å®šï¼Œä¸”æŸ¥è¯¢æ„å›¾å¯èƒ½ç›¸ä¼¼ï¼ˆå¦‚ &quot;è‹¹æœè‚¡ä»·&quot; vs &quot;AAPLè‚¡ä»·&quot;ï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆä½¿ç”¨ç¼“å­˜ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># in your_plugin/tools/stock_checker.py</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.plugin_system </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseTool, ToolParamType</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StockCheckerTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BaseTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ä¸€ä¸ªç”¨äºæŸ¥è¯¢è‚¡ç¥¨ä»·æ ¼çš„å·¥å…·ã€‚</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;get_stock_price&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;è·å–æŒ‡å®šå…¬å¸æˆ–è‚¡ç¥¨ä»£ç çš„æœ€æ–°ä»·æ ¼ã€‚&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    available_for_llm: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parameters </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;symbol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ToolParamType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">STRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å…¬å¸åç§°æˆ–è‚¡ç¥¨ä»£ç  (e.g., &#39;AAPL&#39;, &#39;è‹¹æœ&#39;)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # --- ç¼“å­˜é…ç½® ---</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 1. å¼€å¯ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enable_cache: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 2. è‚¡ä»·ä¿¡æ¯ç¼“å­˜10åˆ†é’Ÿ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cache_ttl: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 3. ä½¿ç”¨ &quot;symbol&quot; å‚æ•°è¿›è¡Œè¯­ä¹‰æœç´¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    semantic_cache_query_key: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;symbol&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # --------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, function_args: dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]) -&gt; dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        symbol </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> function_args.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;symbol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # ... è¿™é‡Œæ˜¯ä½ è°ƒç”¨å¤–éƒ¨APIè·å–è‚¡ç¥¨ä»·æ ¼çš„é€»è¾‘ ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # price = await some_stock_api.get_price(symbol)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123.45</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ç¤ºä¾‹ä»·æ ¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stock_price_result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">symbol</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> çš„å½“å‰ä»·æ ¼æ˜¯ $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">price</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre></div><p>é€šè¿‡ä»¥ä¸Šç®€å•çš„ä¸‰è¡Œé…ç½®ï¼Œ<code>StockCheckerTool</code> ç°åœ¨å°±æ‹¥æœ‰äº†å¼ºå¤§çš„è‡ªåŠ¨åŒ–ç¼“å­˜èƒ½åŠ›ï¼š</p><ul><li>å½“ç”¨æˆ·æŸ¥è¯¢ <code>&quot;è‹¹æœ&quot;</code> æ—¶ï¼Œå·¥å…·ä¼šæ‰§è¡Œå¹¶ç¼“å­˜ç»“æœã€‚</li><li>åœ¨æ¥ä¸‹æ¥çš„10åˆ†é’Ÿå†…ï¼Œå¦‚æœå†æ¬¡æŸ¥è¯¢ <code>&quot;è‹¹æœ&quot;</code>ï¼Œå°†ç›´æ¥ä»ç²¾ç¡®ç¼“å­˜è¿”å›ç»“æœã€‚</li><li>æ›´æ™ºèƒ½çš„æ˜¯ï¼Œå¦‚æœå¦ä¸€ä¸ªç”¨æˆ·æŸ¥è¯¢ <code>&quot;AAPL&quot;</code>ï¼Œè¯­ä¹‰ç¼“å­˜ç³»ç»Ÿä¼šè¯†åˆ«å‡º <code>&quot;AAPL&quot;</code> å’Œ <code>&quot;è‹¹æœ&quot;</code> åœ¨è¯­ä¹‰ä¸Šé«˜åº¦ç›¸å…³ï¼Œå¤§æ¦‚ç‡ä¹Ÿä¼šç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœï¼Œè€Œæ— éœ€å†æ¬¡è°ƒç”¨APIã€‚</li></ul><hr><p>ç°åœ¨ï¼Œä½ å¯ä»¥ä¸“æ³¨äºå®ç°å·¥å…·çš„æ ¸å¿ƒé€»è¾‘ï¼ŒæŠŠç¼“å­˜çš„å¤æ‚æ€§äº¤ç»™MMCçš„è‡ªåŠ¨åŒ–ç³»ç»Ÿæ¥å¤„ç†ã€‚</p>`,75)),a(n),a(t)])}const u=h(e,[["render",r]]);export{c as __pageData,u as default};
